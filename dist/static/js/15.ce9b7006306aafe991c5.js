webpackJsonp([15],{842:function(t,a,e){function n(t){e(905)}var i=e(1)(e(867),e(953),n,"data-v-04503a5c",null);t.exports=i.exports},867:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(6),i=e(8);a.default={name:"township",data:function(){return{activeNamexz:"first3",ALLdata:[],tableData:[],HistoryData:[],allData:[],type:"全市",currentRow:null,pagesize:10,currentPage:1,totalCount:0}},created:function(){},mounted:function(){var t=this;i.a.GetTownListDataRe("").then(function(a){var e=a.data.Data;t.InitializationDataMethod(e)})},methods:{compare:function(t){return function(a,e){var n=a[t];return e[t]-n}},InitializationDataMethod:function(t){this.HistoryData=t;var a=t;this.SetDataList(a),this.totalCount=this.ALLdata.length,this.allData=this.ALLdata,this.setPageTable(10,1)},refreshTable:function(t){this.type=t,this.SetDataList(this.data,t),this.totalCount=this.ALLdata.length,this.allData=this.ALLdata,this.setPageTable(10,1)},handleClick:function(t,a){var e=this;this.type=t.label,"全市"==this.type?i.a.GetTownListDataRe("").then(function(t){var a=t.data.Data;e.InitializationDataMethod(a),n.a.$emit("loadCumulative",a,"layer_cx","pm25","name")}):i.a.GetTownListDataRe(encodeURI(this.type)).then(function(t){var a=t.data.Data;e.InitializationDataMethod(a),n.a.$emit("loadCumulative",a,"layer_cx","pm25","name")})},SetDataList:function(t){var a=this;this.data=t,this.ALLdata=[],console.log(t);var e=1;this.data.forEach(function(t){var n={};n.ranking=e++,n.gridname=t.gridname?t.gridname:"----",n.name=t.name,n.com_index=t.com_index,n.id=t.deviceid,n.latitude=t.latitude,n.longitude=t.longitude,a.ALLdata.push(n)})},RowCurrentChange:function(t){this.currentRow=t,n.a.$emit("locationClick","layer_cx",this.currentRow,this.type)},handleCurrentChange:function(t){this.setPageTable(10,t)},setPageTable:function(t,a){for(var e=[],n=t*(a-1),i=0;i<t&&!(n+i+1>this.allData.length);i++)e.push(this.allData[n+i]);this.tableData=e},switchRender:function(t){this.type=t,this.setdata(this.data,this.type)},getPointByType:function(t){var a=[],e=this.data;if(e)for(var n=0,i=e.length;n<i;n++){var l=e[n];l.type===t&&a.push(e[n])}return a}},components:{}}},881:function(t,a,e){a=t.exports=e(831)(!1),a.push([t.i,".township[data-v-04503a5c]{width:430px;height:auto}.township .main .first[data-v-04503a5c]{width:100%;height:56px}.township .main .table_container[data-v-04503a5c]{margin-left:5px}",""])},905:function(t,a,e){var n=e(881);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(832)("1c829906",n,!0,{})},953:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"township"},[e("div",{staticClass:"main"},[e("div",{staticClass:"first"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNamexz,callback:function(a){t.activeNamexz=a},expression:"activeNamexz"}},[e("el-tab-pane",{attrs:{label:"全市",name:"first3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"北部县区",name:"second3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"中部县区",name:"third3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"南部县区",name:"fourth3"}})],1)],1),t._v(" "),e("div",{staticClass:"table_container"},[e("el-table",{staticStyle:{width:"400px"},attrs:{data:t.tableData,border:"",stripe:"","highlight-current-row":""},on:{"current-change":t.RowCurrentChange}},[e("el-table-column",{attrs:{property:"ranking",label:"排名",width:"80"}}),t._v(" "),t._e(),t._v(" "),e("el-table-column",{attrs:{property:"name",label:"名称",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{property:"com_index",label:"综合指数"}})],1),t._v(" "),e("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]}}});