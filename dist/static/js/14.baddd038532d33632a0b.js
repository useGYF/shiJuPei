webpackJsonp([14],{843:function(t,a,e){function i(t){e(907)}var n=e(1)(e(868),e(955),i,"data-v-0d5c1f4c",null);t.exports=n.exports},868:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(6),n=e(8);a.default={name:"tvoc",data:function(){return{activeNametoc:"first2",ALLdata:[],tableData:[],HistoryData:[],allData:[],type:"全市",currentRow:null,pagesize:10,currentPage:1,totalCount:0}},created:function(){},mounted:function(){var t=this;n.a.GetXhHbPointsVocData().then(function(a){var e=a.data.Data;t.InitializationDataMethod(e,t.type)})},methods:{compare:function(t){return function(a,e){var i=a[t];return e[t]-i}},handleClick:function(t,a){this.type=t.label,this.InitializationDataMethod(this.HistoryData,this.type)},InitializationDataMethod:function(t,a){this.type=a,this.HistoryData=t;var e=t;this.SetDataList(e,a),this.totalCount=this.ALLdata.length,this.allData=this.ALLdata,this.setPageTable(10,1)},refreshTable:function(t){this.type=t,this.SetDataList(this.data,t),this.totalCount=this.ALLdata.length,this.allData=this.ALLdata,this.setPageTable(10,1)},SetDataList:function(t,a){var e=this;this.data=t,this.ALLdata=[];var n=1;if("全市"==this.type){var o=t;o.forEach(function(t){var a={};a.ranking=n++,a.pointName=t.pointName,a.gridName=t.gridName,a.tVOC_V=t.tVOC_V||"--",a.id=t.stationId,a.latitude=t.latitude,a.longitude=t.longitude,a.pianQu=t.pianQu,e.ALLdata.push(a)}),i.a.$emit("loadCumulative",o,"layer_cgq_voc","tVOC_V","pointName")}else{var r=this.getPointByType(this.type);r.forEach(function(t){var a={};a.ranking=n++,a.pointName=t.pointName,a.gridName=t.gridName,a.tVOC_V=t.tVOC_V,a.id=t.stationId,a.latitude=t.latitude,a.longitude=t.longitude,a.pianQu=t.pianQu,e.ALLdata.push(a)}),i.a.$emit("loadCumulative",r,"layer_cgq_voc","tVOC_V","pointName")}},RowCurrentChange:function(t){this.currentRow=t,i.a.$emit("locationClick","layer_cgq_voc",this.currentRow,this.type)},handleCurrentChange:function(t){this.setPageTable(10,t)},setPageTable:function(t,a){for(var e=[],i=t*(a-1),n=0;n<t&&!(i+n+1>this.allData.length);n++)e.push(this.allData[i+n]);this.tableData=e},switchRender:function(t){this.type=t,this.setdata(this.data,this.type)},getPointByType:function(t){var a=[],e=this.data;if(e)for(var i=0,n=e.length;i<n;i++){var o=e[i];o.pianQu===t&&a.push(e[i])}return a}},components:{}}},883:function(t,a,e){a=t.exports=e(831)(!1),a.push([t.i,".tvoc[data-v-0d5c1f4c]{width:430px;height:auto}.tvoc .main .first[data-v-0d5c1f4c]{width:100%;height:56px}.tvoc .main .table_container[data-v-0d5c1f4c]{margin-left:5px}",""])},907:function(t,a,e){var i=e(883);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(832)("370c682a",i,!0,{})},955:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tvoc"},[e("div",{staticClass:"main"},[e("div",{staticClass:"first"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNametoc,callback:function(a){t.activeNametoc=a},expression:"activeNametoc"}},[e("el-tab-pane",{attrs:{label:"全市",name:"first2"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"开发区",name:"second2"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"安次区",name:"third2"}})],1)],1),t._v(" "),e("div",{staticClass:"table_container"},[e("el-table",{staticStyle:{width:"400px"},attrs:{data:t.tableData,border:"",stripe:"","highlight-current-row":""},on:{"current-change":t.RowCurrentChange}},[e("el-table-column",{attrs:{property:"ranking",label:"排名",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{property:"gridName",label:"网格名称",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{property:"pointName",label:"名称",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{property:"tVOC_V",label:"TVOC"}})],1),t._v(" "),e("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]}}});